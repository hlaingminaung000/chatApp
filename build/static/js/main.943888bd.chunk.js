(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{167:function(e,t,c){},168:function(e,t,c){},368:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(38),s=c.n(i),o=(c(167),c(13)),r=c(12),u=(c(168),c(1)),b=c.n(u),l=c(3),j=c(161),d=c(98),h=c.n(d),p=c(51),g=(c(365),p.a.initializeApp({apiKey:"AIzaSyCmNLK_Yp2yR8gqInGoJRSx7riGjkRY4_w",authDomain:"chat-app-2c324.firebaseapp.com",projectId:"chat-app-2c324",storageBucket:"chat-app-2c324.appspot.com",messagingSenderId:"774913940465",appId:"1:774913940465:web:a58229b54224fc00eb4250"}).auth()),f=a.a.createContext(void 0),O=c(15);function m(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(n.useContext)(f),s=Object(r.f)();function u(){return(u=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,g.signOut();case 3:s("/");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){i&&null!==i?h.a.get("https://api.chatengine.io/users/me/",{headers:{"project-id":"5c4d2eb1-84f5-4921-b853-42a22b8ce656","user-name":i.email,"user-secret":i.uid}}).then((function(e){a(!1)})).catch((function(e){var t=new FormData;t.append("email",i.email),t.append("username",i.email),t.append("secret",i.uid),h.a.post("https://api.chatengine.io/users/",t,{headers:{"private-key":"1437d969-dce6-4d71-b301-c8754d47f6eb"}}).then((function(){a(!1)})).catch((function(e){return console.log("e",e.response)}))})):s("/")}),[i]),Object(O.jsxs)("div",{className:"chats-page",children:[!c&&Object(O.jsxs)("div",{className:"nav-bar",children:[Object(O.jsx)("div",{className:"logo-tab",children:"Hlaing Min Aung"}),Object(O.jsx)("div",{onClick:function(){return u.apply(this,arguments)},className:"logout-tab",children:"Logout"})]}),!c&&Object(O.jsx)(j.d,{height:"calc(100vh - 66px)",projectID:"5c4d2eb1-84f5-4921-b853-42a22b8ce656",userName:i.email,userSecret:i.uid})]})}var x=c(370);function v(){return Object(O.jsxs)("div",{className:"login-page",children:[Object(O.jsx)("h2",{className:"login-word",children:"Login"}),Object(O.jsxs)("div",{className:"login-card",children:[Object(O.jsxs)("div",{className:"login-button google",onClick:function(){g.signInWithRedirect(new p.a.auth.GoogleAuthProvider)},children:[Object(O.jsx)(x.a,{})," Sign In with Google"]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"login-button facebook",onClick:function(){return g.signInWithRedirect(new p.a.auth.FacebookAuthProvider)},children:[Object(O.jsx)("i",{className:"bi bi-facebook facebook-icon"}),"Sign In with Facebook"]})]})]})}var k=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),s=Object(o.a)(i,2),u=s[0],b=s[1],l=Object(r.f)();return Object(n.useEffect)((function(){g.onAuthStateChanged((function(e){a(e),b(!1),console.log("second"),console.log("userInfo",e),e&&l("/chats")})),console.log("first")}),[]),Object(O.jsx)("div",{style:{fontFamily:"Avenir"},children:Object(O.jsx)(f.Provider,{value:c,children:!u&&Object(O.jsxs)(r.c,{children:[Object(O.jsx)(r.a,{path:"/chats",element:Object(O.jsx)(m,{})}),Object(O.jsx)(r.a,{path:"/",element:Object(O.jsx)(v,{})})]})})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,371)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))},w=c(71);s.a.render(Object(O.jsx)(w.a,{children:Object(O.jsx)(k,{})}),document.getElementById("root")),I()}},[[368,1,2]]]);
//# sourceMappingURL=main.943888bd.chunk.js.map